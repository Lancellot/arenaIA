<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arena IA ‚Äì Ci√™ncia vs. Religi√£o</title>
    <link rel="stylesheet" href="src/css/styles.css" />
</head>

<body>
    <header>
        <div class="logo">Arena IA</div>
        <nav>
            <ul id="navMenu">
                <li><a href="index.html">In√≠cio</a></li>
                <li><a href="deposito.html">Dep√≥sito</a></li>
                <li><a href="admin.html" id="adminLink">Admin</a></li>
                <li id="loginLink"><a href="login.html">Login</a></li>
                <li id="cadastroLink"><a href="cadastro.html">Cadastro</a></li>
                <li id="perfilLink" style="display: none;"><a href="#">Perfil</a></li>
            </ul>
        </nav>
    </header>

    <main class="layout">
        <aside class="ads">
            <p>Espa√ßo para Propagandas</p>
        </aside>

        <section class="game-container">
            <canvas id="canvas" width="1500" height="900"></canvas>
            <div id="status">Arena aprimorada ‚Äì IAs em a√ß√£o‚Ä¶</div>
            <div id="contadores">
                <span id="contadorA"></span>&nbsp;&nbsp;&nbsp;
                <span id="contadorB"></span>
            </div>
            <button onclick="location.reload()">üîÅ Reiniciar</button>

            <!-- Painel de apostas -->
            <section id="betting">
                <h3>üí∞ Fa√ßa sua Aposta</h3>
                <div class="bet-credit">Cr√©dito dispon√≠vel: <span id="userCredit">0</span> cr√©ditos</div>

                <form id="betForm">
                    <div class="bet-targets">
                        <label class="bet-card">
                            <input type="radio" name="bet" value="A" required>
                            <div class="bet-label">üßô‚Äç‚ôÇÔ∏è Religi√£o</div>
                        </label>
                        <label class="bet-card">
                            <input type="radio" name="bet" value="B">
                            <div class="bet-label">ü§ñ Ci√™ncia</div>
                        </label>
                    </div>

                    <div class="bet-quick-values">
                        <button type="button" onclick="setBetValue(10)">R$10</button>
                        <button type="button" onclick="setBetValue(30)">R$30</button>
                        <button type="button" onclick="setBetValue(50)">R$50</button>
                    </div>

                    <label for="valorAposta" class="valor-label">Valor personalizado:</label>
                    <input type="number" id="valorAposta" min="1" placeholder="Outro valor...">

                    <button type="submit" class="btn-apostar">Apostar Agora</button>
                </form>
            </section>


    </main>

    <footer>
        &copy; 2025 Arena IA ‚Äì Todos os direitos reservados.
    </footer>

    <script src="src/js/script.js"></script>
    <script>
        // Exibir cr√©ditos do usu√°rio logado (usando session simulada)
        const email = localStorage.getItem("sessionUser");
        if (email) {
            const user = JSON.parse(localStorage.getItem(email));
            document.getElementById("userCredit").textContent = user.credito || 0;
        }

        // L√≥gica de aposta (simples)
        document.getElementById("betForm").addEventListener("submit", function (e) {
            e.preventDefault();
            if (!email) {
                alert("Voc√™ precisa estar logado para apostar.");
                return;
            }
            const aposta = document.querySelector('input[name="bet"]:checked').value;
            const valor = parseInt(document.getElementById("valorAposta").value);
            let user = JSON.parse(localStorage.getItem(email));
            if (valor > (user.credito || 0)) {
                alert("Cr√©dito insuficiente para essa aposta.");
                return;
            }
            // Deduzir o valor e salvar a aposta (em um prot√≥tipo, registramos no pr√≥prio usu√°rio)
            user.credito -= valor;
            user.apostas = user.apostas || [];
            user.apostas.push({ partida: Date.now(), aposta, valor });
            localStorage.setItem(email, JSON.stringify(user));
            document.getElementById("userCredit").textContent = user.credito;
            alert(`Aposta registrada: ${aposta} no valor de ${valor} cr√©dito(s).`);
        });
    </script>
    <script>
        function setBetValue(value) {
            document.getElementById("valorAposta").value = value;
        }
    </script>

</body>

</html>
<script>
    const userEmail = localStorage.getItem("sessionUser");
    

    // Remove link admin se n√£o for administrador
    if (userEmail !== "admin@admin.com") {
        const adminLink = document.querySelector('nav a[href="admin.html"]');
        if (adminLink) adminLink.remove();
    }

    // Exibe cr√©dito
    if (userEmail) {
        const user = JSON.parse(localStorage.getItem(userEmail));
        document.getElementById("userCredit").textContent = user.credito || 0;
    }

    function setBetValue(value) {
        document.getElementById("valorAposta").value = value;
    }

      // Mostrar cr√©dito se estiver logado
  if (userEmail) {
    const user = JSON.parse(localStorage.getItem(userEmail));
    document.getElementById("userCredit").textContent = user.credito || 0;

    // Oculta Login/Cadastro, mostra Perfil
    document.getElementById("loginLink").style.display = "none";
    document.getElementById("cadastroLink").style.display = "none";
    document.getElementById("perfilLink").style.display = "inline-block";

    // Oculta link de admin se n√£o for admin
    if (userEmail !== "admin@admin.com") {
      const adminLink = document.getElementById("adminLink");
      if (adminLink) adminLink.style.display = "none";
    }
  } else {
    // Oculta admin para quem n√£o est√° logado
    const adminLink = document.getElementById("adminLink");
    if (adminLink) adminLink.style.display = "none";
  }
</script>