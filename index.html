<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arena IA ‚Äì Ci√™ncia vs. Religi√£o</title>
    <link rel="stylesheet" href="src/css/styles.css" />
</head>

<body>
    <header>
        <div class="logo">Arena IA</div>
        <nav>
            <ul>
                <li><a href="index.html">In√≠cio</a></li>
                <li><a href="deposito.html">Dep√≥sito</a></li>
                <li><a href="admin.html">Admin</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="cadastro.html">Cadastro</a></li>
            </ul>
        </nav>
    </header>

    <main class="layout">
        <aside class="ads">
            <p>Espa√ßo para Propagandas</p>
        </aside>

        <section class="game-container">
            <canvas id="canvas" width="1500" height="900"></canvas>
            <div id="status">Arena aprimorada ‚Äì IAs em a√ß√£o‚Ä¶</div>
            <button onclick="location.reload()">üîÅ Reiniciar</button>
            <div id="contadores">
                <span id="contadorA"></span>&nbsp;&nbsp;&nbsp;
                <span id="contadorB"></span>
            </div>
            <!-- Painel de apostas -->
            <section id="betting">
                <h3>Fa√ßa sua aposta:</h3>
                <p>Seu cr√©dito: <span id="userCredit">0</span></p>
                <form id="betForm">
                    <label>
                        <input type="radio" name="bet" value="A" required>
                        Apostar no <strong>Religi√£o</strong> (üßô‚Äç‚ôÇÔ∏è)
                    </label>
                    <label>
                        <input type="radio" name="bet" value="B">
                        Apostar na <strong>Ci√™ncia</strong> (ü§ñ)
                    </label>
                    <label for="valorAposta">Valor da aposta:</label>
                    <input type="number" id="valorAposta" min="1" required>
                    <button type="submit">Apostar</button>
                </form>
            </section>
        </section>
    </main>

    <footer>
        &copy; 2025 Arena IA ‚Äì Todos os direitos reservados.
    </footer>

    <script src="src/js/script.js"></script>
    <script>
        // Exibir cr√©ditos do usu√°rio logado (usando session simulada)
        const email = localStorage.getItem("sessionUser");
        if (email) {
            const user = JSON.parse(localStorage.getItem(email));
            document.getElementById("userCredit").textContent = user.credito || 0;
        }

        // L√≥gica de aposta (simples)
        document.getElementById("betForm").addEventListener("submit", function (e) {
            e.preventDefault();
            if (!email) {
                alert("Voc√™ precisa estar logado para apostar.");
                return;
            }
            const aposta = document.querySelector('input[name="bet"]:checked').value;
            const valor = parseInt(document.getElementById("valorAposta").value);
            let user = JSON.parse(localStorage.getItem(email));
            if (valor > (user.credito || 0)) {
                alert("Cr√©dito insuficiente para essa aposta.");
                return;
            }
            // Deduzir o valor e salvar a aposta (em um prot√≥tipo, registramos no pr√≥prio usu√°rio)
            user.credito -= valor;
            user.apostas = user.apostas || [];
            user.apostas.push({ partida: Date.now(), aposta, valor });
            localStorage.setItem(email, JSON.stringify(user));
            document.getElementById("userCredit").textContent = user.credito;
            alert(`Aposta registrada: ${aposta} no valor de ${valor} cr√©dito(s).`);
        });
    </script>
</body>

</html>